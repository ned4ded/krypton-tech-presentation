{"version":3,"sources":["terminal.js"],"names":["swiper","Tab","el","duration","arguments","length","undefined","_classCallCheck","this","instance","setStatus","getAttribute","_createClass","key","value","name","status","dataset","tabStatus","_this","cb","timer","clearTimeout","setTimeout","_this2","Toggler","_this3","listen","toggler","addEventListener","toggle","unlisten","removeEventListener","ev","preventDefault","ariaExpended","expended","target","document","getElementById","tabs","Transporter","pages","Array","from","querySelectorAll","map","p","togglers","goToPage","number","top","setAttribute","offsetTop","getPositionByPage","setTop","_this4","forEach","_ref","index","pageNumber","t","e","tab","tabName","Swiper","init","direction","slidesPerView","spaceBetween","centeredSlides","autoHeight","loop","speed","autoplay","delay","slideToClickedSlide","on","slideChange","prev","previousIndex","cur","activeIndex","prevItem","slides","curItem","prevTab","find","_ref2","tabFor","curTab","_ref3","hide","show","prevCard","querySelector","curCard","classList","remove","add","click","running","start"],"mappings":"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","file":"main.js","sourcesContent":["(() => {\n  class Tab {\n    constructor(el, duration = 400) {\n      this.instance = el;\n      this.duration = duration;\n\n      this.setStatus( el.getAttribute('data-tab-status') || 'hidden' );\n    }\n\n    setStatus( name ) {\n      switch(name) {\n        case 'hidden':\n          this.status = 'hidden';\n          this.instance.dataset.tabStatus = 'hidden';\n          break;\n        case 'hiding':\n          this.status = 'hiding';\n          this.instance.dataset.tabStatus = 'hiding';\n          break;\n        case 'visible':\n          this.status = 'visible';\n          this.instance.dataset.tabStatus = 'visible';\n          break;\n      }\n\n      return this;\n    }\n\n    hide(cb = () => {}) {\n      this.setStatus('hiding');\n\n      if(this.timer) clearTimeout(this.timer);\n\n      setTimeout(() => {\n        this.timer = null;\n\n        this.setStatus('hidden');\n\n        cb();\n      }, this.duration);\n\n      return this;\n    }\n\n    show(cb = () => {}) {\n      this.setStatus('hiding');\n\n      if(this.timer) clearTimeout(this.timer);\n\n      this.timer = setTimeout(() => {\n        this.timer = null;\n\n        this.setStatus('visible');\n\n        cb();\n      }, this.duration);\n\n      return this;\n    }\n\n    isVisible() {\n      return this.status === 'visible' ? true : false;\n    }\n  }\n\n  class Toggler {\n    constructor(el) {\n      this.toggler = el;\n      this.expended = this.toggler.dataset.ariaExpended === 'true' ? true : false;\n      this.target = document.getElementById( el.dataset.target );\n      this.target.dataset.ariaExpended = this.expended;\n\n      this.listen();\n\n      return;\n    }\n\n    listen = () => this.toggler.addEventListener('click', this.toggle);\n\n    unlisten = () => this.toggler.removeEventListener('click', this.toggle);\n\n    toggle = (ev) => {\n      ev.preventDefault();\n\n      this.toggler.dataset.ariaExpended = !this.expended;\n      this.target.dataset.ariaExpended = !this.expended;\n      this.expended = !this.expended;\n\n      return;\n    }\n\n    isExpended() {\n      return this.expended;\n    }\n  }\n\n  class Transporter {\n    constructor(el) {\n      this.el = el;\n\n      const pages = Array.from( el.querySelectorAll('[data-page]') );\n\n      this.pages = pages.map(p => {\n        const togglers = Array.from( p.querySelectorAll('[data-page-toggler]') );\n\n        return {\n          instance: p,\n          togglers: togglers,\n        }\n      });\n\n      this.goToPage(1)\n    }\n\n    setTop(number) {\n      const top = number + 'px';\n\n      this.el.setAttribute('style', `top: ${top}`);\n\n      return this;\n    }\n\n    getPositionByPage( number ) {\n      const page = this.pages[number - 1].instance;\n\n      return page.offsetTop;\n    }\n\n    goToPage( number ) {\n      const top = this.getPositionByPage( number );\n\n      this.setTop( -top );\n\n      return this;\n    }\n\n    setListeners() {\n      this.pages.forEach(({instance, togglers}, index) => {\n        const pageNumber = index + 1 === this.pages.length ? 1 : index + 2;\n\n        togglers.forEach(t => t.addEventListener('click', (ev) => {\n          ev.preventDefault();\n\n          this.goToPage( pageNumber );\n\n          return;\n        }));\n      });\n\n      return this;\n    }\n  }\n\n  const togglers = Array.from( document.querySelectorAll('[data-target]') ).map(e => new Toggler( e ));\n\n  // const transporters = Array.from( document.querySelectorAll('[data-transporter]')).map(e => new Transporter( e ));\n  //\n  // transporters.forEach(t => {\n  //   t.setListeners();\n  //\n  //   return;\n  // });\n\n  const tabs = Array.from( document.querySelectorAll('[data-tab-name]') ).map(e => ({\n    tab: new Tab(e, 400),\n    name: e.dataset.tabName,\n  }));\n\n  if(document.querySelectorAll('.swiper-container').length) (function() {\n    const swiper = new Swiper('.swiper-container', {\n      init: false,\n      direction: 'vertical',\n      slidesPerView: 3,\n      spaceBetween: 0,\n      centeredSlides: true,\n      autoHeight: true,\n      loop: true,\n      speed: 500,\n      autoplay: {\n        delay: 3000,\n      },\n      slideToClickedSlide: true,\n      on: {\n        slideChange: function() {\n          const prev = this.previousIndex;\n          const cur = this.activeIndex;\n\n          const prevItem = this.slides[prev];\n          const curItem = this.slides[cur];\n\n          const prevTab = tabs.find(({ name }) => prevItem.dataset.tabFor === name);\n          const curTab = tabs.find(({ name }) => curItem.dataset.tabFor === name);\n\n          if(prevTab.name !== curTab.name) {\n            prevTab.tab.hide(() => {\n              curTab.tab.show();\n            });\n          }\n\n\n          const prevCard = prevItem.querySelector('.project-card');\n          const curCard = curItem.querySelector('.project-card');\n\n          prevCard.classList.remove('project-card--active');\n          prevCard.classList.add('project-card--inactive');\n\n          curCard.classList.remove('project-card--inactive');\n          curCard.classList.add('project-card--active');\n\n          return;\n        },\n        click: function() {\n          setTimeout(() => {\n            if(!swiper.autoplay.running) swiper.autoplay.start();\n\n            return;\n          }, 3000);\n        },\n      },\n    });\n\n    swiper.init();\n  })();\n})();\n"]}